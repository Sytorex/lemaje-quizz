import{s as ye,n as ee,r as De,c as te,o as Ne,d as G}from"../chunks/scheduler.B3L12BRW.js";import{S as Ie,i as Ve,e as h,t as I,s as g,c as m,a as T,m as V,d as _,b as w,g as S,f as b,h as A,j as u,l as q,n as ue,r as de,u as Se,q as fe,v as Ae,w as Oe,x as Ue,y as Be,z as $e,o as qe}from"../chunks/index.Cbii4a9Q.js";import{e as Te}from"../chunks/each.D6YF6ztN.js";import{a as Ce}from"../chunks/allTheme.LP29og9Q.js";import{b as Z,a as J,c as N,v as he,s as me}from"../chunks/stores.D8zyMeHW.js";function ke(a){let e;return{c(){e=I("s")},l(i){e=V(i,"s")},m(i,r){A(i,e,r)},d(i){i&&_(e)}}}function Pe(a){let e,i,r,s=a[0].title+"",t,n,l,c,o,x="Mettre en pause le chrono",v,f,D="Réinitialiser le chrono",P,C,H,z,R,L,d,k,W="-1",ne,M,le,X,se,O,_e="+1",ie,U,B,ve="Valider le thème",oe,$,pe="Annuler le thème",re,be,p=a[1]>1&&ke();return{c(){e=h("div"),i=h("h2"),r=I("Thème choisis: "),t=I(s),n=g(),l=h("div"),c=h("div"),o=h("button"),o.textContent=x,v=g(),f=h("button"),f.textContent=D,P=g(),C=h("p"),H=I("Temps restant: "),z=I(a[1]),R=I(" seconde"),p&&p.c(),L=g(),d=h("div"),k=h("button"),k.textContent=W,ne=g(),M=h("span"),le=I("Score: "),X=I(a[2]),se=g(),O=h("button"),O.textContent=_e,ie=g(),U=h("div"),B=h("button"),B.textContent=ve,oe=g(),$=h("button"),$.textContent=pe,this.h()},l(E){e=m(E,"DIV",{});var y=T(e);i=m(y,"H2",{});var ae=T(i);r=V(ae,"Thème choisis: "),t=V(ae,s),ae.forEach(_),n=w(y),l=m(y,"DIV",{class:!0});var Q=T(l);c=m(Q,"DIV",{class:!0});var j=T(c);o=m(j,"BUTTON",{class:!0,"data-svelte-h":!0}),S(o)!=="svelte-159ni3w"&&(o.textContent=x),v=w(j),f=m(j,"BUTTON",{class:!0,"data-svelte-h":!0}),S(f)!=="svelte-odygwb"&&(f.textContent=D),P=w(j),C=m(j,"P",{class:!0});var F=T(C);H=V(F,"Temps restant: "),z=V(F,a[1]),R=V(F," seconde"),p&&p.l(F),F.forEach(_),j.forEach(_),L=w(Q),d=m(Q,"DIV",{class:!0});var K=T(d);k=m(K,"BUTTON",{class:!0,"data-svelte-h":!0}),S(k)!=="svelte-1gmx0rs"&&(k.textContent=W),ne=w(K),M=m(K,"SPAN",{});var ce=T(M);le=V(ce,"Score: "),X=V(ce,a[2]),ce.forEach(_),se=w(K),O=m(K,"BUTTON",{class:!0,"data-svelte-h":!0}),S(O)!=="svelte-188yy6a"&&(O.textContent=_e),K.forEach(_),ie=w(Q),U=m(Q,"DIV",{class:!0});var Y=T(U);B=m(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),S(B)!=="svelte-1o6iqu"&&(B.textContent=ve),oe=w(Y),$=m(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),S($)!=="svelte-nlf04y"&&($.textContent=pe),Y.forEach(_),Q.forEach(_),y.forEach(_),this.h()},h(){b(o,"class","btn"),b(f,"class","btn"),b(C,"class","svelte-1im6yty"),b(c,"class","admin-chrono"),b(k,"class","btn"),b(O,"class","btn"),b(d,"class","admin-score"),b(B,"class","btn"),b($,"class","btn"),b(U,"class","admin-theme-btn"),b(l,"class","admin-main-container svelte-1im6yty")},m(E,y){A(E,e,y),u(e,i),u(i,r),u(i,t),u(e,n),u(e,l),u(l,c),u(c,o),u(c,v),u(c,f),u(c,P),u(c,C),u(C,H),u(C,z),u(C,R),p&&p.m(C,null),u(l,L),u(l,d),u(d,k),u(d,ne),u(d,M),u(M,le),u(M,X),u(d,se),u(d,O),u(l,ie),u(l,U),u(U,B),u(U,oe),u(U,$),re||(be=[q(o,"click",a[3]),q(f,"click",a[4]),q(k,"click",a[6]),q(O,"click",a[5]),q(B,"click",a[7]),q($,"click",a[8])],re=!0)},p(E,[y]){y&1&&s!==(s=E[0].title+"")&&ue(t,s),y&2&&ue(z,E[1]),E[1]>1?p||(p=ke(),p.c(),p.m(C,null)):p&&(p.d(1),p=null),y&4&&ue(X,E[2])},i:ee,o:ee,d(E){E&&_(e),p&&p.d(),re=!1,De(be)}}}function He(a,e,i){let r,s;te(a,Z,d=>i(1,r=d)),te(a,J,d=>i(2,s=d));let{currentTheme:t}=e,n,l=null;function c(){n||(n=setInterval(()=>{Z.update(d=>d===0?(clearInterval(n),n=void 0,0):d-1)},100))}function o(){v(),l=G(N),N.set(-1)}function x(){f(),l=G(N),N.set(-1)}function v(){clearInterval(n),n=void 0}function f(){v(),Z.set(90)}function D(){J.update(d=>d+1)}function P(){G(J)!=0&&J.update(d=>d-1)}function C(){if(G(Z)===0){alert("Temps écoulé");return}if(l!==null){N.set(l),c(),l=null;return}let k=G(N);if(k===null){c(),N.set(0);return}if(k<t.questions.length-1){const W=k+1;N.set(W)}else alert("Plus de questions disponibles")}function H(){f(),J.set(0),N.set(null),me.set(null)}function z(){he.update(d=>[...d,t.id]),H()}function R(){me.set(null),H()}function L(d){d.code==="ArrowUp"?D():d.code==="ArrowDown"?P():d.code==="Space"&&C()}return Ne(()=>(window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L),clearInterval(n)})),a.$$set=d=>{"currentTheme"in d&&i(0,t=d.currentTheme)},[t,r,s,o,x,D,P,z,R]}class ze extends Ie{constructor(e){super(),Ve(this,e,He,Pe,ye,{currentTheme:0})}}function ge(a,e,i){const r=a.slice();return r[4]=e[i],r}function Le(a){let e,i,r="Veuillez sélectionner un thème sur la page utilisateur",s,t=a[1].length>0&&we(a);return{c(){e=h("div"),i=h("h2"),i.textContent=r,s=g(),t&&t.c()},l(n){e=m(n,"DIV",{});var l=T(e);i=m(l,"H2",{"data-svelte-h":!0}),S(i)!=="svelte-1o65ki9"&&(i.textContent=r),s=w(l),t&&t.l(l),l.forEach(_)},m(n,l){A(n,e,l),u(e,i),u(e,s),t&&t.m(e,null)},p(n,l){n[1].length>0?t?t.p(n,l):(t=we(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:ee,o:ee,d(n){n&&_(e),t&&t.d()}}}function Me(a){let e,i;return e=new ze({props:{currentTheme:a[0]}}),{c(){Oe(e.$$.fragment)},l(r){Ue(e.$$.fragment,r)},m(r,s){Be(e,r,s),i=!0},p(r,s){const t={};s&1&&(t.currentTheme=r[0]),e.$set(t)},i(r){i||(fe(e.$$.fragment,r),i=!0)},o(r){de(e.$$.fragment,r),i=!1},d(r){$e(e,r)}}}function we(a){let e,i="Annuler un thème déjà validé",r,s,t=Te(Ce),n=[];for(let l=0;l<t.length;l+=1)n[l]=Ee(ge(a,t,l));return{c(){e=h("h3"),e.textContent=i,r=g(),s=h("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=m(l,"H3",{"data-svelte-h":!0}),S(e)!=="svelte-1tu07nk"&&(e.textContent=i),r=w(l),s=m(l,"DIV",{class:!0});var c=T(s);for(let o=0;o<n.length;o+=1)n[o].l(c);c.forEach(_),this.h()},h(){b(s,"class","cancel-btn-container")},m(l,c){A(l,e,c),A(l,r,c),A(l,s,c);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,null)},p(l,c){if(c&6){t=Te(Ce);let o;for(o=0;o<t.length;o+=1){const x=ge(l,t,o);n[o]?n[o].p(x,c):(n[o]=Ee(x),n[o].c(),n[o].m(s,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&(_(e),_(r),_(s)),qe(n,l)}}}function xe(a){let e,i,r=a[4].title+"",s,t,n;function l(){return a[3](a[4])}return{c(){e=h("button"),i=I("Annuler "),s=I(r),this.h()},l(c){e=m(c,"BUTTON",{class:!0});var o=T(e);i=V(o,"Annuler "),s=V(o,r),o.forEach(_),this.h()},h(){b(e,"class","btn")},m(c,o){A(c,e,o),u(e,i),u(e,s),t||(n=q(e,"click",l),t=!0)},p(c,o){a=c},d(c){c&&_(e),t=!1,n()}}}function Ee(a){let e,i=a[1].includes(a[4].id),r,s=i&&xe(a);return{c(){e=h("div"),s&&s.c(),r=g(),this.h()},l(t){e=m(t,"DIV",{class:!0});var n=T(e);s&&s.l(n),r=w(n),n.forEach(_),this.h()},h(){b(e,"class","cancel-btn")},m(t,n){A(t,e,n),s&&s.m(e,null),u(e,r)},p(t,n){n&2&&(i=t[1].includes(t[4].id)),i?s?s.p(t,n):(s=xe(t),s.c(),s.m(e,r)):s&&(s.d(1),s=null)},d(t){t&&_(e),s&&s.d()}}}function Qe(a){let e,i,r="Page administrateur",s,t,n,l;const c=[Me,Le],o=[];function x(v,f){return v[0]?0:1}return t=x(a),n=o[t]=c[t](a),{c(){e=h("section"),i=h("h1"),i.textContent=r,s=g(),n.c(),this.h()},l(v){e=m(v,"SECTION",{id:!0});var f=T(e);i=m(f,"H1",{"data-svelte-h":!0}),S(i)!=="svelte-rwziyl"&&(i.textContent=r),s=w(f),n.l(f),f.forEach(_),this.h()},h(){b(e,"id","admin-90s")},m(v,f){A(v,e,f),u(e,i),u(e,s),o[t].m(e,null),l=!0},p(v,[f]){let D=t;t=x(v),t===D?o[t].p(v,f):(Ae(),de(o[D],1,1,()=>{o[D]=null}),Se(),n=o[t],n?n.p(v,f):(n=o[t]=c[t](v),n.c()),fe(n,1),n.m(e,null))},i(v){l||(fe(n),l=!0)},o(v){de(n),l=!1},d(v){v&&_(e),o[t].d()}}}function je(a,e,i){let r,s;te(a,me,l=>i(0,r=l)),te(a,he,l=>i(1,s=l));function t(l){he.update(c=>c.filter(o=>o!==l))}return[r,s,t,l=>t(l.id)]}class We extends Ie{constructor(e){super(),Ve(this,e,je,Qe,ye,{})}}export{We as component};
